<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ShrimpTech Performance Suite</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #74b9ff 0%, #0984e3 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
        }
        
        .header {
            text-align: center;
            margin-bottom: 40px;
        }
        
        .header h1 {
            color: #2c3e50;
            font-size: 3em;
            margin-bottom: 15px;
            background: linear-gradient(45deg, #74b9ff, #0984e3);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .header p {
            color: #7f8c8d;
            font-size: 1.2em;
            margin-bottom: 20px;
        }
        
        .suite-nav {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }
        
        .nav-btn {
            padding: 12px 24px;
            border: none;
            border-radius: 25px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .nav-btn.active {
            background: linear-gradient(45deg, #74b9ff, #0984e3);
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(116, 185, 255, 0.4);
        }
        
        .nav-btn:not(.active) {
            background: #f8f9fa;
            color: #74b9ff;
            border: 2px solid #74b9ff;
        }
        
        .nav-btn:not(.active):hover {
            background: #74b9ff;
            color: white;
            transform: translateY(-2px);
        }
        
        .tool-sections {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }
        
        .tool-card {
            background: #ffffff;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
            border-left: 5px solid #74b9ff;
            transition: transform 0.3s ease;
        }
        
        .tool-card:hover {
            transform: translateY(-5px);
        }
        
        .tool-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .tool-icon {
            font-size: 2.5em;
            background: linear-gradient(45deg, #74b9ff, #0984e3);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .tool-info h3 {
            color: #2c3e50;
            font-size: 1.5em;
            margin-bottom: 5px;
        }
        
        .tool-info p {
            color: #7f8c8d;
            font-size: 0.9em;
        }
        
        .tool-features {
            margin: 20px 0;
        }
        
        .tool-features ul {
            list-style: none;
            padding: 0;
        }
        
        .tool-features li {
            padding: 8px 0;
            color: #34495e;
            border-bottom: 1px solid #ecf0f1;
            position: relative;
            padding-left: 25px;
        }
        
        .tool-features li:before {
            content: "‚úì";
            position: absolute;
            left: 0;
            color: #27ae60;
            font-weight: bold;
        }
        
        .tool-actions {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }
        
        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            font-size: 0.9em;
        }
        
        .btn-primary {
            background: linear-gradient(45deg, #74b9ff, #0984e3);
            color: white;
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(116, 185, 255, 0.4);
        }
        
        .btn-secondary {
            background: linear-gradient(45deg, #fd79a8, #e84393);
            color: white;
        }
        
        .btn-secondary:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(253, 121, 168, 0.4);
        }
        
        .btn-success {
            background: linear-gradient(45deg, #00b894, #00a085);
            color: white;
        }
        
        .btn-success:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 184, 148, 0.4);
        }
        
        .btn-warning {
            background: linear-gradient(45deg, #fdcb6e, #e17055);
            color: white;
        }
        
        .btn-warning:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(253, 203, 110, 0.4);
        }
        
        .performance-overview {
            background: #ffffff;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 30px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
        }
        
        .overview-header {
            text-align: center;
            margin-bottom: 25px;
        }
        
        .overview-header h2 {
            color: #2c3e50;
            font-size: 2em;
            margin-bottom: 10px;
        }
        
        .overview-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px;
            margin-bottom: 25px;
        }
        
        .stat-card {
            text-align: center;
            padding: 20px;
            border-radius: 12px;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
        }
        
        .stat-value {
            font-size: 2.5em;
            font-weight: bold;
            color: #74b9ff;
            margin-bottom: 5px;
        }
        
        .stat-label {
            color: #7f8c8d;
            font-size: 0.9em;
            font-weight: 600;
        }
        
        .quick-actions {
            background: #ffffff;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 30px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
            text-align: center;
        }
        
        .quick-actions h2 {
            color: #2c3e50;
            margin-bottom: 20px;
        }
        
        .quick-actions-grid {
            display: flex;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
        }
        
        .footer {
            text-align: center;
            margin-top: 40px;
            padding-top: 20px;
            border-top: 2px solid #ecf0f1;
            color: #7f8c8d;
        }
        
        .footer a {
            color: #74b9ff;
            text-decoration: none;
            font-weight: 600;
        }
        
        .footer a:hover {
            text-decoration: underline;
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 20px;
            }
            
            .header h1 {
                font-size: 2.5em;
            }
            
            .tool-sections {
                grid-template-columns: 1fr;
            }
            
            .overview-stats {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .suite-nav {
                flex-direction: column;
                align-items: center;
            }
            
            .nav-btn {
                width: 100%;
                max-width: 300px;
                justify-content: center;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üöÄ ShrimpTech Performance Suite</h1>
            <p>B·ªô c√¥ng c·ª• t·ªëi ∆∞u h√≥a hi·ªáu su·∫•t website to√†n di·ªán</p>
            <div class="suite-nav">
                <a href="#overview" class="nav-btn active" onclick="switchTab('overview')">
                    üìä T·ªïng Quan
                </a>
                <a href="#analyzer" class="nav-btn" onclick="switchTab('analyzer')">
                    üîç Ph√¢n T√≠ch
                </a>
                <a href="#optimizer" class="nav-btn" onclick="switchTab('optimizer')">
                    ‚ö° T·ªëi ∆Øu
                </a>
                <a href="#monitor" class="nav-btn" onclick="switchTab('monitor')">
                    üìà Gi√°m S√°t
                </a>
            </div>
        </div>
        
        <div class="performance-overview" id="overviewSection">
            <div class="overview-header">
                <h2>üìä T·ªïng Quan Hi·ªáu Su·∫•t</h2>
                <p>Tr·∫°ng th√°i hi·ªán t·∫°i c·ªßa h·ªá th·ªëng performance tools</p>
            </div>
            
            <div class="overview-stats">
                <div class="stat-card">
                    <div class="stat-value">4</div>
                    <div class="stat-label">C√¥ng C·ª• S·∫µn S√†ng</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">15+</div>
                    <div class="stat-label">Metrics Theo D√µi</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">100%</div>
                    <div class="stat-label">T·ª∑ L·ªá Th√†nh C√¥ng</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">Real-time</div>
                    <div class="stat-label">Gi√°m S√°t</div>
                </div>
            </div>
        </div>
        
        <div class="quick-actions">
            <h2>‚ö° Thao T√°c Nhanh</h2>
            <div class="quick-actions-grid">
                <button class="btn btn-primary" onclick="runFullPerformanceCheck()">
                    üîç Ki·ªÉm Tra To√†n Di·ªán
                </button>
                <button class="btn btn-success" onclick="runQuickOptimization()">
                    ‚ö° T·ªëi ∆Øu Nhanh
                </button>
                <button class="btn btn-warning" onclick="startMonitoring()">
                    üìà B·∫Øt ƒê·∫ßu Gi√°m S√°t
                </button>
                <button class="btn btn-secondary" onclick="generateReport()">
                    üìÑ T·∫°o B√°o C√°o
                </button>
            </div>
        </div>
        
        <div class="tool-sections">
            <div class="tool-card">
                <div class="tool-header">
                    <div class="tool-icon">üîç</div>
                    <div class="tool-info">
                        <h3>Performance Analyzer</h3>
                        <p>Ph√¢n t√≠ch chi ti·∫øt hi·ªáu su·∫•t website</p>
                    </div>
                </div>
                
                <div class="tool-features">
                    <ul>
                        <li>ƒêo l∆∞·ªùng Page Load Time</li>
                        <li>Ph√¢n t√≠ch Core Web Vitals</li>
                        <li>Ki·ªÉm tra Resource Usage</li>
                        <li>ƒê√°nh gi√° JavaScript Performance</li>
                        <li>Ph√¢n t√≠ch CSS Optimization</li>
                        <li>Ki·ªÉm tra Image Loading</li>
                    </ul>
                </div>
                
                <div class="tool-actions">
                    <a href="test-performance.html" class="btn btn-primary" target="_blank">
                        üöÄ M·ªü Analyzer
                    </a>
                    <button class="btn btn-secondary" onclick="runInCurrentPage('analyzer')">
                        ‚ö° Ch·∫°y ·ªû ƒê√¢y
                    </button>
                </div>
            </div>
            
            <div class="tool-card">
                <div class="tool-header">
                    <div class="tool-icon">‚ö°</div>
                    <div class="tool-info">
                        <h3>Website Optimizer</h3>
                        <p>T·ª± ƒë·ªông t·ªëi ∆∞u h√≥a website</p>
                    </div>
                </div>
                
                <div class="tool-features">
                    <ul>
                        <li>T·ªëi ∆∞u h√≥a h√¨nh ·∫£nh</li>
                        <li>Minify CSS & JavaScript</li>
                        <li>K√≠ch ho·∫°t Browser Caching</li>
                        <li>T·ªëi ∆∞u Font Loading</li>
                        <li>Setup Service Worker</li>
                        <li>Optimize DOM Structure</li>
                    </ul>
                </div>
                
                <div class="tool-actions">
                    <a href="test-optimizer.html" class="btn btn-primary" target="_blank">
                        üîß M·ªü Optimizer
                    </a>
                    <button class="btn btn-secondary" onclick="runInCurrentPage('optimizer')">
                        ‚ö° Ch·∫°y ·ªû ƒê√¢y
                    </button>
                </div>
            </div>
            
            <div class="tool-card">
                <div class="tool-header">
                    <div class="tool-icon">üìà</div>
                    <div class="tool-info">
                        <h3>Performance Monitor</h3>
                        <p>Gi√°m s√°t hi·ªáu su·∫•t real-time</p>
                    </div>
                </div>
                
                <div class="tool-features">
                    <ul>
                        <li>Real-time Performance Tracking</li>
                        <li>Automated Alert System</li>
                        <li>User Interaction Monitoring</li>
                        <li>Error Rate Tracking</li>
                        <li>Memory Usage Monitoring</li>
                        <li>Performance Dashboard</li>
                    </ul>
                </div>
                
                <div class="tool-actions">
                    <a href="performance-dashboard.html" class="btn btn-primary" target="_blank">
                        üìä M·ªü Dashboard
                    </a>
                    <button class="btn btn-secondary" onclick="runInCurrentPage('monitor')">
                        üìà B·∫Øt ƒê·∫ßu Monitor
                    </button>
                </div>
            </div>
            
            <div class="tool-card">
                <div class="tool-header">
                    <div class="tool-icon">üñºÔ∏è</div>
                    <div class="tool-info">
                        <h3>Image Optimizer CLI</h3>
                        <p>T·ªëi ∆∞u h√≥a h√†ng lo·∫°t h√¨nh ·∫£nh</p>
                    </div>
                </div>
                
                <div class="tool-features">
                    <ul>
                        <li>Batch Image Processing</li>
                        <li>Automatic Format Conversion</li>
                        <li>Size Optimization</li>
                        <li>Duplicate Detection</li>
                        <li>HTML Report Generation</li>
                        <li>Batch Script Creation</li>
                    </ul>
                </div>
                
                <div class="tool-actions">
                    <button class="btn btn-primary" onclick="runImageOptimizer()">
                        üöÄ Ch·∫°y CLI Tool
                    </button>
                    <button class="btn btn-warning" onclick="showImageOptimizerHelp()">
                        üìñ H∆∞·ªõng D·∫´n
                    </button>
                </div>
            </div>
        </div>
        
        <div class="footer">
            <p>
                <strong>ShrimpTech Performance Suite</strong> - 
                Developed by <a href="#" target="_blank">ShrimpTech Team</a>
            </p>
            <p>
                üìß Email System: ‚úÖ | üîß Performance Tools: ‚úÖ | üìà Monitoring: ‚úÖ
            </p>
        </div>
    </div>

    <script>
        // Load all performance tools
        const tools = {
            analyzer: null,
            optimizer: null,
            monitor: null
        };
        
        // Initialize when page loads
        window.addEventListener('load', () => {
            console.log('üöÄ ShrimpTech Performance Suite initialized');
        });
        
        function switchTab(tab) {
            // Update nav buttons
            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            // Here you could show/hide different sections based on tab
            console.log(`Switched to ${tab} tab`);
        }
        
        async function runFullPerformanceCheck() {
            console.log('üîç Starting full performance check...');
            
            try {
                // Load analyzer if not loaded
                if (!tools.analyzer) {
                    await loadScript('performance-analyzer.js');
                    tools.analyzer = new ShrimpTechPerformanceAnalyzer();
                }
                
                // Run comprehensive analysis
                const report = await tools.analyzer.runCompleteAnalysis();
                
                // Display results in modal or new window
                displayPerformanceReport(report);
                
            } catch (error) {
                console.error('‚ùå Performance check failed:', error);
                alert('Performance check failed: ' + error.message);
            }
        }
        
        async function runQuickOptimization() {
            console.log('‚ö° Starting quick optimization...');
            
            try {
                // Load optimizer if not loaded
                if (!tools.optimizer) {
                    await loadScript('website-optimizer.js');
                    tools.optimizer = new ShrimpTechOptimizer();
                }
                
                // Run quick optimization
                const report = await tools.optimizer.runFullOptimization();
                
                // Display results
                displayOptimizationReport(report);
                
            } catch (error) {
                console.error('‚ùå Quick optimization failed:', error);
                alert('Quick optimization failed: ' + error.message);
            }
        }
        
        async function startMonitoring() {
            console.log('üìà Starting performance monitoring...');
            
            try {
                // Load monitor if not loaded
                if (!tools.monitor) {
                    await loadScript('../public/js/display-performance-manager.js');
                    tools.monitor = new DisplayPerformanceManager();
                }
                
                // Start monitoring
                tools.monitor.startMonitoring();
                
                // Update UI
                const btn = event.target;
                btn.textContent = 'üõë D·ª´ng Gi√°m S√°t';
                btn.onclick = stopMonitoring;
                
                // Show status
                alert('Performance monitoring started! Check console for real-time data.');
                
            } catch (error) {
                console.error('‚ùå Monitoring start failed:', error);
                alert('Monitoring start failed: ' + error.message);
            }
        }
        
        function stopMonitoring() {
            if (tools.monitor) {
                tools.monitor.stopMonitoring();
                
                // Update UI
                const btn = event.target;
                btn.textContent = 'üìà B·∫Øt ƒê·∫ßu Gi√°m S√°t';
                btn.onclick = startMonitoring;
                
                alert('Performance monitoring stopped.');
            }
        }
        
        async function generateReport() {
            console.log('üìÑ Generating comprehensive report...');
            
            const report = {
                timestamp: new Date().toISOString(),
                performance: null,
                optimization: null,
                monitoring: null
            };
            
            try {
                // Collect data from all tools
                if (tools.analyzer) {
                    report.performance = tools.analyzer.getPerformanceReport();
                }
                
                if (tools.optimizer) {
                    report.optimization = tools.optimizer.getOptimizationReport();
                }
                
                if (tools.monitor) {
                    report.monitoring = tools.monitor.getPerformanceSummary();
                }
                
                // Export as JSON
                const blob = new Blob([JSON.stringify(report, null, 2)], { type: 'application/json' });
                const url = URL.createObjectURL(blob);
                
                const a = document.createElement('a');
                a.href = url;
                a.download = `shrimptech-performance-report-${new Date().toISOString().split('T')[0]}.json`;
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                URL.revokeObjectURL(url);
                
                console.log('‚úÖ Report generated and downloaded');
                
            } catch (error) {
                console.error('‚ùå Report generation failed:', error);
                alert('Report generation failed: ' + error.message);
            }
        }
        
        async function runInCurrentPage(tool) {
            console.log(`Running ${tool} in current page...`);
            
            switch (tool) {
                case 'analyzer':
                    await runFullPerformanceCheck();
                    break;
                case 'optimizer':
                    await runQuickOptimization();
                    break;
                case 'monitor':
                    await startMonitoring();
                    break;
            }
        }
        
        function runImageOptimizer() {
            alert(`ƒê·ªÉ ch·∫°y Image Optimizer CLI:
            
1. M·ªü terminal/command prompt
2. Navigate ƒë·∫øn th∆∞ m·ª•c project
3. Ch·∫°y l·ªánh: npm run optimize-images
4. Ho·∫∑c: node scripts/image-optimizer.js
            
Tool s·∫Ω t·∫°o ra:
- optimize-images.bat (script t·ªëi ∆∞u)
- image-optimization-report.html (b√°o c√°o chi ti·∫øt)`);
        }
        
        function showImageOptimizerHelp() {
            const helpWindow = window.open('', '_blank', 'width=800,height=600');
            helpWindow.document.write(`
<!DOCTYPE html>
<html>
<head>
    <title>Image Optimizer CLI Help</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; line-height: 1.6; }
        h1 { color: #2c3e50; }
        h2 { color: #3498db; margin-top: 30px; }
        pre { background: #f8f9fa; padding: 15px; border-radius: 5px; }
        .step { background: #e8f5e8; padding: 15px; margin: 10px 0; border-radius: 5px; }
    </style>
</head>
<body>
    <h1>üñºÔ∏è ShrimpTech Image Optimizer CLI</h1>
    
    <h2>üìã C√†i ƒê·∫∑t</h2>
    <div class="step">
        <h3>1. C√†i ƒë·∫∑t ImageMagick</h3>
        <p>Download from: <a href="https://imagemagick.org/" target="_blank">https://imagemagick.org/</a></p>
    </div>
    
    <div class="step">
        <h3>2. C√†i ƒë·∫∑t WebP Tools</h3>
        <p>Download from: <a href="https://developers.google.com/speed/webp/download" target="_blank">https://developers.google.com/speed/webp/download</a></p>
    </div>
    
    <h2>üöÄ S·ª≠ D·ª•ng</h2>
    <pre>npm run optimize-images</pre>
    <p>ho·∫∑c</p>
    <pre>node scripts/image-optimizer.js</pre>
    
    <h2>üìä K·∫øt Qu·∫£</h2>
    <ul>
        <li><strong>optimize-images.bat</strong> - Script t·ªëi ∆∞u t·ª± ƒë·ªông</li>
        <li><strong>image-optimization-report.html</strong> - B√°o c√°o chi ti·∫øt</li>
    </ul>
</body>
</html>
            `);
        }
        
        function displayPerformanceReport(report) {
            console.log('üìä Performance Report:', report);
            
            const message = `
üîç Performance Analysis Complete!

üìä Overall Score: ${report.overallScore}/100 (Grade: ${report.grade})
‚úÖ Tests Passed: ${report.summary.passed}
‚ö†Ô∏è Warnings: ${report.summary.warnings}
‚ùå Failed: ${report.summary.failed}

Check console for detailed results.
            `;
            
            alert(message);
        }
        
        function displayOptimizationReport(report) {
            console.log('‚ö° Optimization Report:', report);
            
            const message = `
‚ö° Website Optimization Complete!

üéØ Total Optimizations: ${report.totalOptimizations}
‚úÖ Completed: ${report.completed}
‚ùå Failed: ${report.failed}
üìà Success Rate: ${report.successRate}%

Check console for detailed results.
            `;
            
            alert(message);
        }
        
        async function loadScript(src) {
            return new Promise((resolve, reject) => {
                const script = document.createElement('script');
                script.src = src;
                script.onload = resolve;
                script.onerror = reject;
                document.head.appendChild(script);
            });
        }
    </script>
</body>
</html>